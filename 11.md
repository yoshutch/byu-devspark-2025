
# Simple > Clever

## Code Example 1 (javascript - callback hell)
```javascript
fs.readFile(path, 'utf8', (err, raw) => {
  if (err) return next(err)
  try {
    const data = JSON.parse(raw)
    doWork(data, (err, result) => {
      if (err) return next(err)
      save(result, (err) => {
        if (err) return next(err)
        res.json({ ok: true })
      })
    })
  } catch (e) {
    next(e)
  }
})
```
**Why is this complex:**
* Difficult to follow if inside a callback or nested block
* Reuse variable names in nested scopes can lead to issues

<br/><br/><br/><br/><br/><br/><br/><br/><br/>

### Simplified
```javascript
import { readFile } from 'node:fs/promises'

try {
  const raw = await readFile(path, 'utf8')
  const data = JSON.parse(raw)
  const result = await doWork(data)
  await save(result)
  res.json({ ok: true })
} catch (err) {
  next(err)
}
```
**Why is this simple:**
* Linear flow
* Fewer nested scopes
* Clearer error paths