
# Simple > Clever

## Code Example 4 (JavaScript - clever forloop header)
```javascript
// Builds a frequency map; relies on comma operator and |0 tricks
for (var i = 0, k, m = {}; i < items.length; k = items[i++].key, m[k] = (m[k] | 0) + 1);
```
**Why is this complex:**
* Empty loop body - all the work lives in the header and makes this easy to miss
* Post-increment in header `items[i++]` - reads and increments together makes it easy to get into off-by-one errors
* Bitwise coercion trick `(m[k] | 0)` - not common and can have nonobvious issues with large number that wrap to negative
* Hard to log/debug - you can't easily insert logs or handle special cases

<br/><br/><br/><br/><br/><br/><br/><br/><br/>

### Simplified

```javascript
const counts = {}
for (const it of items) {
  const k = it.key
  counts[k] = (counts[k] ?? 0) + 1
}
```
**Why is this simple:**
* Clear intent - "build a frequency map" is obvious at a glance
* Easy to log/debug
* Easier to evolve
